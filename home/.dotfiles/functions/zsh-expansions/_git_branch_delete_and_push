#compdef git_branch_delete_and_push

_git_branch_delete_and_push () {
  local curcontext="$curcontext" branch line
  typeset -A opt_args

  _arguments '*: :->branch'

  case $branch in
    *)
      ref=$(git branch | cut -c 2)
      remotes=`git branch | cut -c 2- | sed "s/\|$//g"`
      compadd `echo $remotes | sed "s/ //g"`
  esac
}

